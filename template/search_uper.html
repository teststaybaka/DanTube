{% extends "template/search.html" %}

{% block search_url %}
action="{{ uri_for('search_uper') }}"
{% endblock %}

{% block search_scope %}
<div class="search-scope-line">
    <a class="search-scope" href="{{ uri_for('search') }}?keywords={{ keywords }}">Videos</a>
    <a class="search-scope" href="{{ uri_for('search_playlist') }}?keywords={{ keywords }}">Playlists</a>
    <a class="search-scope active">UPers</a>
</div>
{% endblock %}

{% block search_subtitle_line %}
<div class="search-result-num">Found <span class="commas_number">{{ total_found }}</span> UPers.</div>
{% endblock %}

{% block search_result %}
{% for uper in upers %}
<div class="content-entry">
    <a class="uper-img" href="{{ uper.space_url }}">
        <img class="uper-img" src="{{ uper.avatar_url }}">
    </a>
    <div class="uper-info">
        <a class="uploader blue-link" href="{{ uper.space_url }}">{{ uper.nickname }}</a>
        <div class="uper-detail-line">
            <div class="uper-detail-info">Views: <span class="commas_number">{{ uper.videos_watched }}</span></div>
            <div class="uper-detail-info">Videos: <span class="commas_number">{{ uper.videos_submitted }}</span></div>
            <div class="uper-detail-info">Subscribers: <span class="commas_number">{{ uper.subscribers_counter }}</span></div>
        </div>
        <div class="uper-description">{{ uper.intro }}</div>
        <div class="uper-buttons">
            <a class="inline-button upers-button" href="{{ uri_for('message_compose') }}?to={{ uper.nickname }}">Send Message</a>
            <div class="inline-button upers-button subscribe-button {% if uper.subscribed %}unsubscribe{% endif %}" data-id="{{ uper.id }}"><span class="subscribe-icon"></span><span class="subscribe-text">{% if uper.subscribed %}Subscribed{% else %}Subscribe{% endif %}</span></div>
        </div>
    </div>
</div>
{% endfor %}
{% endblock %}